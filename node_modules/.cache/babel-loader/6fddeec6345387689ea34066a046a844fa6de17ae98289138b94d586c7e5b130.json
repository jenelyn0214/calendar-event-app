{"ast":null,"code":"import { loginRequest, loginSuccess, loginFailure, logout } from \"../reducers/authReducer\";\nimport { loginUser, registerUser } from \"../api/user\";\nexport const login = credentials => async dispatch => {\n  try {\n    dispatch(loginRequest());\n    const {\n      access,\n      user\n    } = await loginUser(credentials);\n    console.log(\"user\", user);\n    localStorage.setItem(\"token\", access);\n    dispatch(loginSuccess({\n      token: access,\n      user\n    }));\n  } catch (error) {\n    dispatch(loginFailure(error.response ? error.response.data.message : \"Login failed\"));\n  }\n};\nexport const register = data => async dispatch => {\n  try {\n    dispatch(loginRequest());\n    const {\n      access,\n      user\n    } = await registerUser(data);\n    localStorage.setItem(\"token\", access);\n    dispatch(loginSuccess({\n      token: access,\n      user\n    }));\n  } catch (error) {\n    dispatch(loginFailure(error.response ? error.response.data.message : \"Registration failed\"));\n  }\n};\nexport const logoutUser = () => async dispatch => {\n  try {\n    localStorage.removeItem(\"token\");\n    dispatch(logout());\n  } catch (error) {\n    dispatch(loginFailure(error.response ? error.response.data.message : \"Logout failed\"));\n  }\n};","map":{"version":3,"names":["loginRequest","loginSuccess","loginFailure","logout","loginUser","registerUser","login","credentials","dispatch","access","user","console","log","localStorage","setItem","token","error","response","data","message","register","logoutUser","removeItem"],"sources":["/Users/macbookprom1/Projects/calendar-event-app/src/actions/authActions.ts"],"sourcesContent":["import { AppThunk } from \"../store\";\nimport {\n  loginRequest,\n  loginSuccess,\n  loginFailure,\n  logout,\n} from \"../reducers/authReducer\";\nimport { User, UserCredentials } from \"../types\";\nimport { loginUser, registerUser } from \"../api/user\";\n\nexport const login =\n  (credentials: UserCredentials): AppThunk =>\n  async (dispatch) => {\n    try {\n      dispatch(loginRequest());\n\n      const { access, user } = await loginUser(credentials);\n      console.log(\"user\", user);\n\n      localStorage.setItem(\"token\", access);\n      dispatch(loginSuccess({ token: access, user }));\n    } catch (error: any) {\n      dispatch(\n        loginFailure(\n          error.response ? error.response.data.message : \"Login failed\"\n        )\n      );\n    }\n  };\n\nexport const register =\n  (data: User): AppThunk =>\n  async (dispatch) => {\n    try {\n      dispatch(loginRequest());\n      const { access, user } = await registerUser(data);\n      localStorage.setItem(\"token\", access);\n      dispatch(loginSuccess({ token: access, user }));\n    } catch (error: any) {\n      dispatch(\n        loginFailure(\n          error.response ? error.response.data.message : \"Registration failed\"\n        )\n      );\n    }\n  };\n\nexport const logoutUser = (): AppThunk => async (dispatch) => {\n  try {\n    localStorage.removeItem(\"token\");\n    dispatch(logout());\n  } catch (error: any) {\n    dispatch(\n      loginFailure(\n        error.response ? error.response.data.message : \"Logout failed\"\n      )\n    );\n  }\n};\n\n"],"mappings":"AACA,SACEA,YAAY,EACZC,YAAY,EACZC,YAAY,EACZC,MAAM,QACD,yBAAyB;AAEhC,SAASC,SAAS,EAAEC,YAAY,QAAQ,aAAa;AAErD,OAAO,MAAMC,KAAK,GACfC,WAA4B,IAC7B,MAAOC,QAAQ,IAAK;EAClB,IAAI;IACFA,QAAQ,CAACR,YAAY,CAAC,CAAC,CAAC;IAExB,MAAM;MAAES,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,SAAS,CAACG,WAAW,CAAC;IACrDI,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,IAAI,CAAC;IAEzBG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,MAAM,CAAC;IACrCD,QAAQ,CAACP,YAAY,CAAC;MAAEc,KAAK,EAAEN,MAAM;MAAEC;IAAK,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOM,KAAU,EAAE;IACnBR,QAAQ,CACNN,YAAY,CACVc,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAG,cACjD,CACF,CAAC;EACH;AACF,CAAC;AAEH,OAAO,MAAMC,QAAQ,GAClBF,IAAU,IACX,MAAOV,QAAQ,IAAK;EAClB,IAAI;IACFA,QAAQ,CAACR,YAAY,CAAC,CAAC,CAAC;IACxB,MAAM;MAAES,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,YAAY,CAACa,IAAI,CAAC;IACjDL,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,MAAM,CAAC;IACrCD,QAAQ,CAACP,YAAY,CAAC;MAAEc,KAAK,EAAEN,MAAM;MAAEC;IAAK,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOM,KAAU,EAAE;IACnBR,QAAQ,CACNN,YAAY,CACVc,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAG,qBACjD,CACF,CAAC;EACH;AACF,CAAC;AAEH,OAAO,MAAME,UAAU,GAAGA,CAAA,KAAgB,MAAOb,QAAQ,IAAK;EAC5D,IAAI;IACFK,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCd,QAAQ,CAACL,MAAM,CAAC,CAAC,CAAC;EACpB,CAAC,CAAC,OAAOa,KAAU,EAAE;IACnBR,QAAQ,CACNN,YAAY,CACVc,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAG,eACjD,CACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}